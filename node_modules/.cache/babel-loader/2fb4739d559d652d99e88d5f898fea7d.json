{"ast":null,"code":"import _slicedToArray from \"/Users/terilondon/Desktop/reactclass/w7d2-todo-list-localstorage-useeffect-usereducer-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/Users/terilondon/Desktop/reactclass/w7d2-todo-list-localstorage-useeffect-usereducer-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/terilondon/Desktop/reactclass/w7d2-todo-list-localstorage-useeffect-usereducer-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/terilondon/Desktop/reactclass/w7d2-todo-list-localstorage-useeffect-usereducer-end/src/TodoApp.js\";\nimport React from \"react\";\nimport TodoItem from \"./TodoItem\";\nimport TodoForm from \"./TodoForm\";\n\nfunction todoReducer(prevState, _ref) {\n  var type = _ref.type,\n      payload = _ref.payload;\n  console.log(type, payload);\n  var todos = []; // for temp use\n\n  switch (type) {\n    case \"initializeTodos\":\n      // REMOVE THIS FOR CLASS\n      return _objectSpread({}, prevState, {\n        todos: payload\n      });\n\n    case \"updateInput\":\n      return _objectSpread({}, prevState, {\n        inputValue: payload\n      });\n\n    case \"addTodo\":\n      if (!prevState.inputValue) return _objectSpread({}, prevState); // they didn't add anything\n\n      var newTodo = {\n        name: prevState.inputValue,\n        done: false\n      };\n      return {\n        todos: [].concat(_toConsumableArray(prevState.todos), [newTodo]),\n        inputValue: \"\"\n      };\n\n    case \"completeToggle\":\n      todos = _toConsumableArray(prevState.todos);\n      todos[payload].done = !todos[payload].done;\n      return _objectSpread({}, prevState, {\n        todos: todos\n      });\n\n    case \"removeTodo\":\n      todos = _toConsumableArray(prevState.todos);\n      todos.splice(payload, 1);\n      return _objectSpread({}, prevState, {\n        todos: todos\n      });\n\n    default:\n      return _objectSpread({}, prevState);\n  }\n}\n\nfunction TodoApp() {\n  var _React$useReducer = React.useReducer(todoReducer, {\n    todos: [],\n    inputValue: \"\"\n  }),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      _React$useReducer2$ = _React$useReducer2[0],\n      todos = _React$useReducer2$.todos,\n      inputValue = _React$useReducer2$.inputValue,\n      dispatchTodoState = _React$useReducer2[1];\n\n  React.useEffect(function () {\n    console.log(\"useEffect :: initial\");\n    var LStodos = localStorage.getItem(\"todos\");\n    if (LStodos) dispatchTodoState({\n      type: \"initializeTodos\",\n      payload: JSON.parse(LStodos)\n    });\n  }, []);\n  React.useEffect(function () {\n    console.log(\"useEffect :: todos has updated\");\n    localStorage.setItem(\"todos\", JSON.stringify(todos));\n  }, [todos]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    dispatchTodoState({\n      type: \"addTodo\"\n    });\n  } //\n\n\n  return React.createElement(\"div\", {\n    style: {\n      padding: \"40px\",\n      maxWidth: \"600px\",\n      margin: \"0 auto\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"nes-text is-primary\",\n    style: {\n      float: \"left\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"NES ToDo\", \" \"), React.createElement(\"i\", {\n    className: \"nes-icon trophy is-small\",\n    style: {\n      float: \"right\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(TodoForm, {\n    value: inputValue,\n    onSubmit: handleSubmit,\n    onChange: function onChange(e) {\n      return dispatchTodoState({\n        type: \"updateInput\",\n        payload: e.target.value\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"ul\", {\n    className: \"nes-list is-circle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, todos.map(function (todo, index) {\n    return React.createElement(TodoItem, {\n      key: index,\n      todo: todo,\n      remove: function remove() {\n        return dispatchTodoState({\n          type: \"removeTodo\",\n          payload: index\n        });\n      },\n      completeToggle: function completeToggle() {\n        return dispatchTodoState({\n          type: \"completeToggle\",\n          payload: index\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    });\n  })));\n}\n\nexport default TodoApp;","map":{"version":3,"sources":["/Users/terilondon/Desktop/reactclass/w7d2-todo-list-localstorage-useeffect-usereducer-end/src/TodoApp.js"],"names":["React","TodoItem","TodoForm","todoReducer","prevState","type","payload","console","log","todos","inputValue","newTodo","name","done","splice","TodoApp","useReducer","dispatchTodoState","useEffect","LStodos","localStorage","getItem","JSON","parse","setItem","stringify","handleSubmit","e","preventDefault","padding","maxWidth","margin","float","target","value","map","todo","index"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport TodoItem from \"./TodoItem\";\nimport TodoForm from \"./TodoForm\";\n\nfunction todoReducer(prevState, { type, payload }) {\n  console.log(type, payload);\n  let todos = []; // for temp use\n  switch (type) {\n    case \"initializeTodos\": // REMOVE THIS FOR CLASS\n      return { ...prevState, todos: payload };\n    case \"updateInput\":\n      return { ...prevState, inputValue: payload };\n    case \"addTodo\":\n      if (!prevState.inputValue) return { ...prevState }; // they didn't add anything\n      const newTodo = { name: prevState.inputValue, done: false };\n      return { todos: [...prevState.todos, newTodo], inputValue: \"\" };\n    case \"completeToggle\":\n      todos = [...prevState.todos];\n      todos[payload].done = !todos[payload].done;\n      return { ...prevState, todos };\n    case \"removeTodo\":\n      todos = [...prevState.todos];\n      todos.splice(payload, 1);\n      return { ...prevState, todos };\n    default:\n      return { ...prevState };\n  }\n}\n\nfunction TodoApp() {\n  const [{ todos, inputValue }, dispatchTodoState] = React.useReducer(\n    todoReducer,\n    {\n      todos: [],\n      inputValue: \"\"\n    }\n  );\n\n  React.useEffect(() => {\n    console.log(\"useEffect :: initial\");\n    const LStodos = localStorage.getItem(\"todos\");\n    if (LStodos)\n      dispatchTodoState({\n        type: \"initializeTodos\",\n        payload: JSON.parse(LStodos)\n      });\n  }, []);\n\n  React.useEffect(() => {\n    console.log(\"useEffect :: todos has updated\");\n    localStorage.setItem(\"todos\", JSON.stringify(todos));\n  }, [todos]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    dispatchTodoState({ type: \"addTodo\" });\n  }\n\n  //\n  return (\n    <div style={{ padding: \"40px\", maxWidth: \"600px\", margin: \"0 auto\" }}>\n      <h2 className=\"nes-text is-primary\" style={{ float: \"left\" }}>\n        NES ToDo{\" \"}\n      </h2>\n      <i className=\"nes-icon trophy is-small\" style={{ float: \"right\" }} />\n      <TodoForm\n        value={inputValue}\n        onSubmit={handleSubmit}\n        onChange={e =>\n          dispatchTodoState({ type: \"updateInput\", payload: e.target.value })\n        }\n      />\n      <ul className=\"nes-list is-circle\">\n        {todos.map((todo, index) => (\n          <TodoItem\n            key={index}\n            todo={todo}\n            remove={() =>\n              dispatchTodoState({ type: \"removeTodo\", payload: index })\n            }\n            completeToggle={() =>\n              dispatchTodoState({ type: \"completeToggle\", payload: index })\n            }\n          />\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default TodoApp;\n"]},"metadata":{},"sourceType":"module"}